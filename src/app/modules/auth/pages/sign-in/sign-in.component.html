<!-- login form -->
<form class="my-10 space-y-6" [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="text-center">
    <h2 class="text-foreground mb-1 text-3xl font-semibold">Hello Again <span class="text-primary">!</span></h2>
    <p class="text-muted-foreground text-sm">Enter your credential to access your account.</p>
  </div>

  <div routerLink="/dashboard">
    <app-button full impact="bold" tone="light" shape="rounded" size="medium">
      <svg-icon src="assets/icons/google-logo.svg" [svgClass]="'h-6 w-6 mr-2'"> </svg-icon>
      Log in with Google
    </app-button>
  </div>

  <div
    class="before:border-muted after:border-muted my-4 flex items-center before:mt-0.5 before:flex-1 before:border-t after:mt-0.5 after:flex-1 after:border-t">
    <p class="text-muted-foreground mx-4 mb-0 text-center text-sm">or</p>
  </div>

  <div class="space-y-3 text-left">
    <div class="form__group flex flex-col gap-3">
      <div class="flex w-full gap-2">
        <div class="flex w-4/6">
          <nz-form-item class="!flex !w-full !flex-col">
            <nz-form-label nzFor="phoneNumber" class="!flex !items-center !justify-start !text-sm"
              >Phone Number</nz-form-label
            >
            <nz-form-control [nzErrorTip]="userFormPhoneNumberErrorTpl" class="!flex flex-col">
              <nz-input-group [nzSuffix]="userFormPhoneNumberClearTpl" class="!mt-0 !mb-0 !rounded border-gray-200">
                <input
                  type="text"
                  nz-input
                  formControlName="phoneNumber"
                  mask="0000 000 000"
                  placeholder="Nhập Phone Number" />
              </nz-input-group>
              <ng-template #userFormPhoneNumberClearTpl>
                @if(f['phoneNumber'].value){
                <span
                  nz-icon
                  class="ant-input-clear-icon"
                  nzTheme="fill"
                  nzType="close-circle"
                  (click)="f['phoneNumber'].patchValue('')"></span>
                }
              </ng-template>
              <ng-template #userFormPhoneNumberErrorTpl let-control>
                <span class="mt-1 !text-xs text-red-500">
                  @if (f['phoneNumber'].errors?.['required']) { Vui lòng nhập số điện thoại }
                  @if(f['phoneNumber'].errors?.['pattern']) { Vui lòng nhập đúng số điện thoại }
                </span>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div class="flex w-2/6">
          <nz-form-item class="!flex !w-full !flex-col">
            <nz-form-label nzFor="tenantCode" class="!flex !items-center !justify-start !text-sm"
              >Tenant Code</nz-form-label
            >
            <nz-form-control [nzErrorTip]="userFormTenantCodeErrorTpl" class="!flex flex-col">
              <nz-input-group [nzSuffix]="userFormTenantCodeClearTpl" class="!mt-0 !mb-0 !rounded border-gray-200">
                <input type="text" nz-input formControlName="tenantCode" placeholder="Nhập Tenant Code" />
              </nz-input-group>
              <ng-template #userFormTenantCodeClearTpl>
                @if(f['tenantCode'].value){
                <span
                  nz-icon
                  class="ant-input-clear-icon"
                  nzTheme="fill"
                  nzType="close-circle"
                  (click)="f['tenantCode'].patchValue('')"></span>
                }
              </ng-template>
              <ng-template #userFormTenantCodeErrorTpl let-control>
                <span class="mt-1 !text-xs text-red-500">
                  @if (f['tenantCode'].errors?.['required']) { Nhập Tenant Code }
                </span>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
      <div class="flex w-full">
        <nz-form-item class="!flex !w-full !flex-col">
          <nz-form-label nzFor="password" class="!flex !items-start !justify-start !p-0 !text-sm"
            >Password</nz-form-label
          >
          <nz-form-control [nzErrorTip]="passwordErrorTpl" class="!contents">
            <nz-input-group [nzSuffix]="suffixTemplatePassword" class="!mt-0 !mb-0 !h-[36px] !rounded border-gray-200">
              <input
                [type]="passwordVisible ? 'text' : 'password'"
                nz-input
                placeholder="Nhập mật khẩu"
                formControlName="password" />
            </nz-input-group>
            <ng-template #suffixTemplatePassword>
              <div class="flex items-center gap-2">
                @if(f['password'].value){
                <span
                  nz-icon
                  class="ant-input-clear-icon"
                  nzTheme="fill"
                  nzType="close-circle"
                  (click)="f['password'].patchValue('')"></span>
                }
                <svg-icon
                  src="assets/icons/heroicons/outline/{{ passwordVisible ? 'eye-off' : 'eye' }}.svg"
                  (click)="passwordVisible = !passwordVisible"
                  [svgClass]="'h-5 w-5 cursor-pointer'">
                </svg-icon>
              </div>
            </ng-template>
            <ng-template #passwordErrorTpl let-control>
              <span class="mt-1 !text-xs text-red-500">
                @if (f['password'].errors?.['required'] && f['password'].touched) { Vui lòng nhập mật khẩu. } @if
                (f['password'].errors?.['passwordInvalid'] && f['password'].touched) { Vui lòng nhập đúng format mật
                khẩu. }
              </span>
            </ng-template>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
  </div>

  <div class="mb-2 flex items-center justify-between space-x-3">
    <div class="flex items-center">
      <label
        nz-checkbox
        formControlName="rememberMe"
        class="text-muted-foreground !m-0 ml-2 flex items-center font-medium !p-0 !text-xs">
        Tự động đăng nhập
      </label>
    </div>

    <app-button routerLink="/auth/forgot-password" impact="none" tone="primary" shape="rounded" size="small">
      Forgot your password?
    </app-button>
  </div>

  <!-- Submit Button -->
  <div>
    <app-button full impact="bold" tone="primary" shape="rounded" size="medium">Sign in</app-button>
  </div>

  <!-- Sign-up -->
  <div class="text-muted-foreground flex items-center text-sm">
    Not a Member yet?
    <app-button routerLink="/auth/sign-up" impact="none" tone="primary" shape="rounded" size="small">
      Sign up
    </app-button>
  </div>
</form>
